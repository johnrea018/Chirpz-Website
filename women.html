<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chirpz Women’s Gloves</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800;900&display=swap" rel="stylesheet">

<style>
    body {
        margin: 0;
        font-family: 'Inter', sans-serif;
        background: #ffffff;
    }

    header {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 18px 40px;
        background: rgba(255,255,255,0.72);
        backdrop-filter: blur(12px);
        display: flex;
        justify-content: space-between;
        z-index: 1000;
        font-weight: 700;
    }

    header nav a {
        margin-left: 25px;
        text-decoration: none;
        color: #333;
        font-size: 1rem;
    }

    header nav a.active {
        color: #a56de4;
    }

    /* MAIN SECTION */
    .title {
        margin-top: 140px;
        text-align: center;
        font-size: 2.8rem;
        font-weight: 900;
        margin-bottom: 10px;
    }

    .subtitle {
        text-align: center;
        font-size: 1.1rem;
        margin-bottom: 50px;
        opacity: 0.7;
    }

    .viewer-row {
        display: flex;
        justify-content: center;
        gap: 70px;
        flex-wrap: wrap;
        padding: 40px;
    }

    .viewer-box {
        width: 420px;
        text-align: center;
    }

    .viewer-box h2 {
        font-size: 1.6rem;
        margin-bottom: 12px;
        font-weight: 700;
    }

    .spin-viewer {
        width: 100%;
        height: 480px;
        background: #f5f5f5;
        border-radius: 14px;
        overflow: hidden;
        position: relative;
        border: 1px solid #eaeaea;
        box-shadow: 0 8px 20px rgba(0,0,0,0.05);
    }

    .spin-viewer img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        position: absolute;
        top: 0;
        left: 0;
        display: none;
        user-select: none;
        -webkit-user-drag: none;
    }
</style>
</head>

<body>

<header>
    <div class="logo">CHIRPZ</div>
    <nav>
        <a href="index.html">Home</a>
        <a href="men.html">Men</a>
        <a class="active" href="women.html">Women</a>
        <a href="shop.html">Shop</a>
    </nav>
</header>

<h1 class="title">CHIRPZ WOMEN'S COLLECTION</h1>
<p class="subtitle">Premium gloves designed to play better — and look even better.</p>

<section class="viewer-row">

    <!-- LAVENDER GLOVE -->
    <div class="viewer-box">
        <h2>Lavender Glove</h2>
        <div id="lavender360" class="spin-viewer"></div>
    </div>

    <!-- WHITE + LAVENDER GLOVE -->
    <div class="viewer-box">
        <h2>White Glove (Lavender Accents)</h2>
        <div id="white360" class="spin-viewer"></div>
    </div>

</section>

<script>
/* ----------------------------
          360 VIEWER CLASS
   ---------------------------- */
class SpinViewer {
    constructor(containerId, framePath, frameCount) {
        this.container = document.getElementById(containerId);
        this.framePath = framePath;
        this.frameCount = frameCount;

        this.images = [];
        this.currentFrame = 0;
        this.isDragging = false;
        this.startX = 0;

        this.preloadFrames();
        this.addEvents();
    }

    preloadFrames() {
        for (let i = 1; i <= this.frameCount; i++) {
            const img = new Image();
            img.src = `${this.framePath}/frame${i}.png`;
            img.className = "spin-frame";
            img.style.display = i === 1 ? "block" : "none";
            this.container.appendChild(img);
            this.images.push(img);
        }
    }

    addEvents() {
        this.container.addEventListener("mousedown", e => {
            this.isDragging = true;
            this.startX = e.clientX;
        });

        window.addEventListener("mouseup", () => {
            this.isDragging = false;
        });

        window.addEventListener("mousemove", e => {
            if (!this.isDragging) return;

            const diff = e.clientX - this.startX;

            if (Math.abs(diff) > 8) {
                if (diff > 0) this.prevFrame();
                else this.nextFrame();
                this.startX = e.clientX;
            }
        });
    }

    nextFrame() {
        this.images[this.currentFrame].style.display = "none";
        this.currentFrame = (this.currentFrame + 1) % this.frameCount;
        this.images[this.currentFrame].style.display = "block";
    }

    prevFrame() {
        this.images[this.currentFrame].style.display = "none";
        this.currentFrame =
            (this.currentFrame - 1 + this.frameCount) % this.frameCount;
        this.images[this.currentFrame].style.display = "block";
    }
}

/* ----------------------------
      INITIALIZE BOTH VIEWERS
   ---------------------------- */
window.onload = () => {
    new SpinViewer("lavender360", "images/lavender360", 36);
    new SpinViewer("white360", "images/white360", 36);
};
</script>

</body>
</html>

